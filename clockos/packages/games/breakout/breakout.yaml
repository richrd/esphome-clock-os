
display:
  - id: !extend clockos_display
    pages:
      - id: page_game_breakout
        lambda: !include "breakout.cpp"

graphical_display_menu:
  id: main_menu
  items:
    - id: !extend menu_submenu_games
      items:
        - type: menu
          text: ' Breakout ⏵ '
          items:
            - type: back
              text: ' ⏴ Back '
            - type: command
              text: ' Play '
              on_value:
                then:
                    - display_menu.hide: main_menu
                    - display.page.show: page_game_breakout
            - type: command
              text: !lambda |-
                return std::string(" Autoplay [") + (id(global_game_autoplay) ? "ON" : "OFF") + "]";
              on_value:
                then:
                  - if:
                      condition:
                        lambda: 'return id(global_game_autoplay);'
                      then:
                        - switch.turn_off: switch_game_autoplay
                      else:
                        - switch.turn_on: switch_game_autoplay
